{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAO,CACXC,OAAQC,SAASC,cAAc,QAC/BC,gBAAiBF,SAASC,cAAc,uBACxCE,UAAWH,SAASC,cAAc,sBAClCG,YAAaJ,SAASC,cAAc,yBAGtC,IAAII,EAAa,EACbC,EAAY,EACZC,EAAiB,EAGjBC,EAAmB,EA6BvB,SAASC,EAAoBC,EAAKC,GAElB,IAAVA,GAGJC,YAAW,MA9Bb,SAAuBC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAAQC,KACtBL,EAEFI,EAAQ,C,SAACN,E,MAASC,IAGlBM,EAAO,C,SAACP,E,MAAUC,GAAO,G,EAuB3BO,CAAcb,EAAkBE,GAAMY,MAAK,EAACT,SAAEA,EAAQC,MAAEA,MACtDlB,EAAA2B,OAAOC,QAAQ,uBAAqBX,QAAiBC,MAAU,IAEhEW,OAAM,EAACZ,SAAEA,EAAQC,MAAEA,MAClBlB,EAAA2B,OAAOG,QAAQ,sBAAoBb,QAAeC,MAAU,IAG9DN,GAAmB,EAInBC,EAHAC,GAAQJ,EACRK,GAAS,EAEsB,GAC/BD,E,CA7BJZ,EAAKC,OAAO4B,iBAAiB,UAAWC,IACtCA,EAAIC,iBAEJxB,GAAcP,EAAKI,gBAAgB4B,MACnCxB,GAAaR,EAAKK,UAAU2B,MAC5BvB,GAAkBT,EAAKM,YAAY0B,MAEnCrB,EAAoBJ,EAAWE,EAAe","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n\nconst refs = {\n  formEl: document.querySelector('form'),\n  firstDelayInput: document.querySelector('input[name=\"delay\"]'),\n  stepInput: document.querySelector('input[name=\"step\"]'),\n  amountInput: document.querySelector('input[name=\"amount\"]'),\n}\n\nlet firstDelay = 0;\nlet delayStep = 0;\nlet amountPromises = 0;\n\n\nlet positionPromises = 1;\n\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve,reject) => {\n    if (shouldResolve) {\n      // Fulfill\n      resolve({position,delay})\n    } else {\n      // Reject\n      reject({position, delay})\n    }\n  \n  })\n}\n\nrefs.formEl.addEventListener('submit', (evt)=> {\n  evt.preventDefault()\n\n  firstDelay = +refs.firstDelayInput.value\n  delayStep = +refs.stepInput.value\n  amountPromises = +refs.amountInput.value\n\n  onClickStartPomises(firstDelay,amountPromises)\n})\n\n\nfunction onClickStartPomises(time,count) {\n\n  if (count === 0) {\n    return\n  }\n  setTimeout(()=>{\n    createPromise(positionPromises, time).then(({ position, delay }) => {\n      Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notify.warning(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n\n    positionPromises +=1\n    time += delayStep\n    count -= 1\n    \n    onClickStartPomises(time,count)\n  },time)\n}\n\n\n\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","formEl","document","querySelector","firstDelayInput","stepInput","amountInput","$47d4ff9957288465$var$firstDelay","$47d4ff9957288465$var$delayStep","$47d4ff9957288465$var$amountPromises","$47d4ff9957288465$var$positionPromises","$47d4ff9957288465$var$onClickStartPomises","time","count","setTimeout","position","delay","shouldResolve","Math","random","Promise","resolve","reject","$47d4ff9957288465$var$createPromise","then","Notify","success","catch","warning","addEventListener","evt","preventDefault","value"],"version":3,"file":"03-promises.b7515bf6.js.map"}